<nav class="navbar">
  <!-- Logo -->
  <div class="navbar-logo">
    <a routerLink="/homepage">
      <h1>S.O.S. <br> HELMET</h1>
    </a>
  </div>

  <!-- Pulsante Hamburger (solo per mobile) -->
  <button class="navbar-toggler" (click)="toggleMenu()" aria-label="Toggle navigation">
    <span class="toggler-icon"></span>
    <span class="toggler-icon"></span>
    <span class="toggler-icon"></span>
  </button>

  <!-- Il contenitore principale del menu -->
  <div class="navbar-menu" [class.is-open]="isMenuOpen">
    
    <!-- La lista dei link di navigazione -->
    <ul class="nav-links">
      <li><a routerLink="/about" (click)="closeMenu()">Chi Siamo</a></li>
      <li><a routerLink="/guide" (click)="closeMenu()">Guida</a></li>
    </ul>

    <!-- La sezione per l'utente (login/logout) -->
    <div class="user-section">
      <div *ngIf="user$ | async as user; else showLoginButton" class="user-info">
        <a [routerLink]="['/dashboard']" (click)="closeMenu()">{{ user.name || user.email }}</a>
        <button [routerLink]="['/homepage']" (click)="logoutAndCloseMenu()">Logout</button>
      </div>
      <ng-template #showLoginButton>
        <a routerLink="/login" class="btn-login" (click)="closeMenu()">Log In</a>
      </ng-template>
    </div>
    
  </div>
</nav>